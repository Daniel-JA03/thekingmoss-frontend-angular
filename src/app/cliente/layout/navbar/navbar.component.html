<nav class="navbar">
  <!-- Logo -->
  <div class="nav-logo">
    <i class="bi bi-brightness-alt-high icon-logo"></i>
    <a routerLink="/">TheKingMoss</a>
  </div>

  <!-- Menú centrado con efecto vidrio -->
  <div class="glass-menu" [class.scrolled]="isScrolled">
    <ul class="nav-links">
      <li><a routerLink="/">Inicio</a></li>
      <li><a routerLink="/producto">Productos</a></li>
      <li><a routerLink="/contacto">Contacto</a></li>
      <li><a routerLink="/sobre-nosotros">Sobre Nosotros</a></li>
      <li><a routerLink="/historial-pedidos">Historial</a></li>
    </ul>
  </div>

  <!-- Acciones: Carrito e Iniciar Sesión -->
  <div class="nav-actions">
    <!-- Carrito de compras -->
    <a routerLink="/carrito" class="cart-link">
      <i class="bi bi-cart"></i>
      @if (cartCount > 0) {
        <span class="cart-count">{{ cartCount }}</span>
      }
    </a>

    <!-- Iniciar/Cerrar sesión -->
    @if (!isAuthenticated()) {
      <button routerLink="/login" class="btn-login">
        <i class="bi bi-person"></i>
      </button>
    } @else {
      <button (click)="logout()" class="btn-logout">
        <i class="bi bi-box-arrow-right"></i>
      </button>
    }
  </div>

  <!-- Menú hamburguesa (móviles) -->
  <div class="menu-toggle" (click)="toggleMobileMenu()">
    <i class="bi" [class.bi-list]="!mobileMenuOpen" [class.bi-x]="mobileMenuOpen"></i>
  </div>

  <!-- Menú móvil desplegable -->
  @if (mobileMenuOpen) {
    <div class="mobile-menu">
      <ul>
        <li (click)="closeMobileMenu()"><a routerLink="/">Inicio</a></li>
        <li (click)="closeMobileMenu()"><a routerLink="/">Productos</a></li>
        <li (click)="closeMobileMenu()"><a routerLink="/">Contacto</a></li>
        <li (click)="closeMobileMenu()"><a routerLink="/">Sobre Nosotros</a></li>
        <li (click)="closeMobileMenu()">
          @if (!isAuthenticated()) {
            <a routerLink="/login">Iniciar Sesión</a>
          }
        </li>
        @if (isAuthenticated()) {
          <li (click)="logout()">Cerrar Sesión</li>
        }
      </ul>
    </div>
  }
</nav>