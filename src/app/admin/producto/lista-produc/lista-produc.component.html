<div class="container-fluid mt-4 px-4">
  <!-- Encabezado: Título y botón -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3 class="title">Listado de Productos</h3>
    <button class="btn btn-success create-btn" (click)="abrirModal()">Nuevo Producto</button>
  </div>

  <!-- Mensaje si no hay productos -->
  <div *ngIf="productos.length === 0" class="alert alert-info">
    No hay productos registrados.
  </div>

  <!-- Tabla con contenedor para bordes y sombra -->
  <div class="table-container-full">
    <table *ngIf="productos.length > 0" class="table table-striped table-hover custom-table align-middle">
      <thead class="table-dark">
        <tr>
          <th>#</th> 
          <th>ID</th> 
          <th>IMAGEN</th>
          <th>NOMBRE</th>
          <th>CATEGORIA</th>
          <th>PRECIO</th>
          <th>STOCK</th>
          <th>TAMAÑO</th>
          <th>ACCIONES</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let producto of productos; let i = index">
          <td class="col-index">{{ i + 1 }}</td> <!-- Resalta el campo # -->
          <td class="col-id">{{ producto.idProducto }}</td> <!-- Resalta el campo ID -->
          <td>
            <img [src]="obtenerImagenUrl(producto.idProducto)" 
                 alt="Imagen de {{ producto.nombreProducto }}" 
                 class="img-thumbnail"
                 style="width: 80px; height: 80px; object-fit: cover;">
          </td>
          <td>{{ producto.nombreProducto }}</td>
          <td>{{ producto.nombreCategoria }}</td>
          <td>{{ producto.precioUnitario | soles }}</td>
          <td>{{ producto.stock }}</td>
          <td>{{ producto.tamanio }}</td>
          <td>
            <button class="btn btn-warning me-2" (click)="editarProducto(producto)">
              <i class="bi bi-pencil"></i>
            </button>
            <button class="btn btn-danger" (click)="eliminarProducto(producto.idProducto)">
              <i class="bi bi-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Componente modal -->
<app-crear-produc
  [productoSeleccionado]="productoSeleccionado"
  (productoCreado)="cargarProductos()">
</app-crear-produc>