<div class="container mt-4">
  <!-- Contenedor que contiene tanto el título/botón como la tabla -->
  <div class="table-section">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h3 class="title">Lista de Categorías</h3>
      <button class="btn btn-success create-btn" (click)="abrirModal()">Nueva Categoría</button>
    </div>

    <!-- Tabla centrada y con ancho limitado -->
    <div class="table-container">
      @if (categorias && categorias.length > 0) {
        <table class="table table-striped table-hover custom-table">
          <thead class="table-dark">
            <tr>
              <th class="col-index">#</th>
              <th class="col-id">ID</th>
              <th class="col-name">NOMBRE</th>
              <th class="col-actions">ACCIONES</th>
            </tr>
          </thead>
          <tbody>
            @for (categoria of categorias; track categoria; let i = $index) {
              <tr>
                <td class="col-index">{{ i + 1 }}</td>
                <td class="col-id">{{ categoria.categoriaId }}</td>
                <td class="col-name">{{ categoria.nombreCategoria }}</td>
                <td class="col-actions">
                  <button class="btn btn-warning  me-2" (click)="editarCategoria(categoria)">
                    <i class="bi bi-pencil"></i>
                  </button>
                  <button class="btn btn-danger " (click)="eliminarCategoria(categoria.categoriaId)">
                    <i class="bi bi-trash"></i>
                  </button>
                </td>
              </tr>
            }
          </tbody>
        </table>
      }
    </div>

    <!-- Mensaje cuando no hay categorías -->
    @if (!categorias || categorias.length === 0) {
      <div class="alert alert-info">
        No hay categorías registradas.
      </div>
    }
  </div>
</div>

<app-crear-cat
  [categoriaEditar]="categoriaSeleccionado"
  (categoriaCreado)="cargarCategoria()">
</app-crear-cat>